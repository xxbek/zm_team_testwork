# zm_team_testwork
Test work for "Junior Python Developer" position



#### link: https://docs.google.com/document/d/1n11Jvf4RJCwbA5eJkoOnFgZfeN3TwUSRG2suuDU1rn0/edit

### RU: Описание

Приложение SeleniumNews позволяет парсить новостные агрегаторы и извлекать информацию со страниц новостей. 
Модульность проекта позволяет вносить дополнительные новостные агрегаторы, добовлять и менять логику парсинга, заменять прокти сервера, добавлять новые СУБД.

В тестовом проекте осознанно использовались только заданные библиотеки, без дополнительных ORM, парсеров, сериализаторов и фреймворков. 
Таким образом был поставлен челлендж по написанию всех низкоуровневых взаимодействий, хотя в некоторых местах проект в настоящем состоянии невозможно поддерживать (sql запросы для таблиц)


В виде исключения использовался pytest для тестирования и обертка seleniumwire для дополнения базового selenium авторизацией прокси.


## Модули:
- controller: Интерфейс взаимодействия с пользователем
- db: логика работы с базами данных
- multiprocess: создание и управления пула процессов. Раннеры для процессов
- request: управление запросами для агрегации новостей
- tests: модульное тестирование
- utils: общие вспомогательные функции и пользовательские исключения
- webdriver: управление selenium web driver.

### Важно:
Из-за блокировки сайта news.google.com в России испытанием стало использование vpn для selenium. Найденный сервис vpn представляет ограниченное число запросов, поэтому возникали сложности в тестировании работы приложения.
Более того, возникают неожиданная ошибка в протоколе обмена между vpn сервисом и news.google.com (503 Service Unavailable), хотя до других заблокированных ресурсов, таких как twitter, доступ имелся.


После траты уймы времени на эту проблему, было принято решение взять сайт, не находящийся в блокировке в России (lenta.ru). Однако вся логика работы для news.google.com была создана, приложение успешно отработало на статичных документах, скачанных вручную.


### Установка:
> git clone git@github.com:xxbek/zm_team_testwork.git

> python -m venv venv

> source venv/bin/activate

> (venv) pip install -r requirements.txt

Тестирование:
> (venv) python -m pytest

Старт:
> (venv) python run.py setting.json

### Настройка:
Задается в файле setting.json, где находятся необходимые параметры скрипта


### Дополнения:
Из-за неожиданно большого объема работы проект перерос из тестового в мой личный pet-проект.
Далее планируется изменить модули, добавив пакеты sqlalchemy, beautifulsoup, marshmallow и scheduler.
Изменить СУБД на серверную базу.
Добавить сайты, которые будут релевантны среди пользователей.

Изменить архитектуру на rest, добавить flask и веб-сервер для связи с клиентами. 

Хранить информацию, которую приложение парсит из сайтов, сохранять ее и выдавать клиентам по запросу.
